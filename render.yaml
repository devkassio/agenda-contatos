# Configuração para deploy automático no Render
# Docs: https://render.com/docs/blueprint-spec

services:
  # Backend - Web Service
  - type: web
    name: agenda-contatos-backend
    runtime: node
    plan: free
    region: oregon
    rootDir: backend
    buildCommand: npm install
    startCommand: npm start
    envVars:
      - key: NODE_ENV
        value: production
      - key: PORT
        value: 10000
      - key: DATABASE_TYPE
        value: sqlite
        # Para usar PostgreSQL, altere para 'postgres' e configure DATABASE_URL
    healthCheckPath: /
    autoDeploy: true

# Banco de dados PostgreSQL (opcional - recomendado para produção)
# Descomente as linhas abaixo para usar PostgreSQL no Render
# databases:
#   - name: agenda-contatos-db
#     plan: free
#     region: oregon
#     ipAllowList: []

